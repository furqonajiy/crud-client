<div class="container">
  <div class="page-header">
    <h2>List of Clients</h2>
  </div>

  <div class="table-card">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- Checkbox -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox (change)="masterToggle()" [checked]="isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()" (change)="selection.toggle(row)"
            [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>

      <!-- Display Name -->
      <ng-container matColumnDef="displayName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Display Name</th>
        <td mat-cell *matCellDef="let row">{{ row.displayName }}</td>
      </ng-container>

      <!-- Active -->
      <ng-container matColumnDef="active">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Active</th>
        <td mat-cell *matCellDef="let row">
          <span class="chip" [ngClass]="row.active ? 'chip-active' : 'chip-inactive'">
            {{ row.active ? 'Active' : 'Inactive' }}
          </span>
        </td>
      </ng-container>

      <!-- Country -->
      <ng-container matColumnDef="country">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Country</th>
        <td mat-cell *matCellDef="let row">
          <span class="fi" [ngClass]="'fi-' + iso(row.country)"></span>
          {{ row.country }}
        </td>
      </ng-container>

      <!-- Edit -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row">
          <button mat-icon-button matTooltip="Edit" (click)="$event.stopPropagation(); edit(row)">
            <mat-icon>edit</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="row-clickable" (click)="openDetails(row)"
        tabindex="0" (keydown.enter)="openDetails(row)" (keydown.space)="openDetails(row)">
      </tr>
    </table>

    <mat-paginator [pageSize]="10" [pageSizeOptions]="[5,10,25]" showFirstLastButtons></mat-paginator>
  </div>
</div>